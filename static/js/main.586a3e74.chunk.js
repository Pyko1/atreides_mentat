(this.webpackJsonpatreides_mentat=this.webpackJsonpatreides_mentat||[]).push([[0],{18:function(e,a,t){e.exports=t(38)},38:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),s=t(6),r=t.n(s),l=t(1),i=["harkonen","guild","emperor","bene","fremen"];function o(e){switch(e){case"bene":return"Bene Geserit";case"harkonen":return"Harkonen";case"fremen":return"Fremen";case"guild":return"Spacing Guild";case"emperor":return"The Emperor";default:return function(){throw new Error("Missing case in switch")}()}}var m=t(2),d=Object(m.a)("view/none"),u=Object(m.a)("view/edit_spice"),h=Object(m.a)("view/view_cards"),v=Object(m.a)("view/add_card"),b=Object(m.a)("view/reset"),E=Object(m.a)("houses/add_card",(function(e,a){return{payload:{house:e,card:a}}})),p=Object(m.a)("houses/remove_card",(function(e,a){return{payload:{house:e,index:a}}})),f=Object(m.a)("houses/modify_spice",(function(e,a){if(!Number.isInteger(a))throw new Error("Spice value must be an integer");return{payload:{house:e,spice:a}}})),N=Object(m.a)("game/start"),k=Object(m.a)("game/reset"),y=t(9),w=function(e){var a=Object(l.b)(),t=n.useState(1),c=Object(y.a)(t,2),s=c[0],r=c[1],i=function(){a(d())};return n.createElement("div",{className:"modal is-active"},n.createElement("div",{className:"modal-background",onClick:i}),n.createElement("div",{className:"modal-card"},n.createElement("header",{className:"modal-card-head"},n.createElement("p",{className:"modal-card-title"},o(e.house)),n.createElement("button",{className:"delete",onClick:i})),n.createElement("section",{className:"modal-card-body"},n.createElement("div",{className:"level"},n.createElement("div",{className:"level-item has-text-centered"},n.createElement("div",null,n.createElement("p",{className:"heading"},"Spice"),n.createElement("p",{className:"title"},e.spice)))),n.createElement("div",{className:"field"},n.createElement("input",{className:"input",type:"number",value:s,onChange:function(e){r(parseInt(e.currentTarget.value))},step:1,min:1})),n.createElement("div",{className:"columns"},n.createElement("div",{className:"column is-half"},n.createElement("button",{className:"button is-success is-fullwidth",onClick:function(){a(f(e.house,s)),r(1)}},"Increase")),n.createElement("div",{className:"column is-half"},n.createElement("button",{className:"button is-danger is-fullwidth",onClick:function(){a(f(e.house,-s)),r(1)}},"Decrease")))),n.createElement("footer",{className:"modal-card-foot"},n.createElement("button",{className:"button is-secondary",onClick:i},"Back"))))},g=function(e){var a=Object(l.b)();return n.createElement("div",{className:"column is-half"},n.createElement("div",{className:"box"},n.createElement("h2",{className:"title is-3 has-text-centered"},o(e.house)),n.createElement("div",{className:"columns"},n.createElement("div",{className:"column is-half"},n.createElement("button",{className:"button is-warning is-fullwidth",onClick:function(){return a(u(e.house))}},e.spice," spice")),n.createElement("div",{className:"column is-half"},n.createElement("button",{className:"button is-info is-fullwidth",onClick:function(){return a(h(e.house))}},e.cards.length," card",1===e.cards.length?"":"s")))))},C={defence:{text:"white",bg:"link"},special:{text:"white",bg:"info"},useless:{text:"black",bg:"warning"},weapon:{text:"white",bg:"danger"},unknown:{text:"white",bg:"black"}},_=function(e){var a=C[e.card.kind],t="";return t="unknown"!==e.card.kind&&"useless"!==e.card.kind?e.card.type:e.card.kind,n.createElement("div",{className:"card has-text-centered"},n.createElement("header",{className:"card-header has-background-"+a.bg+" has-text-"+a.text},n.createElement("p",{className:"is-uppercase"},e.card.kind)),n.createElement("div",{className:"card-content"},n.createElement("p",{className:"subtitle is-5 is-capitalized"},t),e.children))},j=function(e){var a=Object(l.b)(),t=function(){return a(d())},c=e.cards.length<4;return"harkonen"===e.house&&(c=e.cards.length<8),n.createElement("div",{className:"modal is-active"},n.createElement("div",{className:"modal-background",onClick:t}),n.createElement("div",{className:"modal-card"},n.createElement("header",{className:"modal-card-head"},n.createElement("p",{className:"modal-card-title"},"Cards for ",o(e.house)),n.createElement("button",{className:"delete",onClick:t})),n.createElement("section",{className:"modal-card-body"},n.createElement("div",{className:"columns is-multiline"},e.cards.map((function(t,c){return n.createElement("div",{className:"column is-half"},n.createElement(_,{card:t},n.createElement("button",{className:"button is-danger",onClick:function(){a(p(e.house,c))}},"Remove")))})))),n.createElement("footer",{className:"modal-card-foot"},n.createElement("div",{className:"buttons"},n.createElement("button",{className:"button is-primary",onClick:function(){c&&a(v(e.house))},disabled:!c},"Add card"),n.createElement("button",{className:"button is-secondary",onClick:t},"Back")))))},O=[{kind:"weapon",type:"poison"},{kind:"weapon",type:"projectile"},{kind:"weapon",type:"lasgun"},{kind:"defence",type:"shield"},{kind:"defence",type:"snooper"},{kind:"special",type:"cheap hero"},{kind:"special",type:"karama"},{kind:"special",type:"family atomics"},{kind:"special",type:"hajr"},{kind:"special",type:"truthtrance"},{kind:"special",type:"tleilaxu ghola"},{kind:"special",type:"weather control"},{kind:"useless"},{kind:"unknown"}],x=function(e){var a=Object(l.b)();return n.createElement("div",{className:"modal is-active"},n.createElement("div",{className:"modal-background"}),n.createElement("div",{className:"modal-card"},n.createElement("header",{className:"modal-card-head"},n.createElement("p",{className:"modal-card-title"},"Add card to ",o(e.house)),n.createElement("button",{className:"delete",onClick:function(){return a(d())}})),n.createElement("section",{className:"modal-card-body"},n.createElement("div",{className:"columns is-multiline"},O.map((function(t){return n.createElement("div",{className:"column is-half",onClick:function(){a(E(e.house,t)),a(h(e.house))}},n.createElement(_,{card:t},n.createElement("button",{className:"button is-success"},"Add to hand")))}))))))},S=function(){var e=Object(l.b)(),a=function(){return e(d())};return n.createElement("div",{className:"modal is-active"},n.createElement("div",{className:"modal-background",onClick:a}),n.createElement("div",{className:"modal-card"},n.createElement("header",{className:"modal-card-head"},n.createElement("p",{className:"modal-card-title"},"Are you sure you wish to reset the game?"),n.createElement("button",{className:"delete",onClick:a})),n.createElement("section",{className:"modal-card-body"},n.createElement("div",{className:"buttons"},n.createElement("button",{className:"button is-danger",onClick:function(){return e(k())}},"Yes"),n.createElement("button",{className:"button is-secondary",onClick:a},"No")))))},z=function(e){var a=Object(l.c)((function(e){return{houses:e.houses,view:e.view}}));if("none"===a.view.active_modal)return null;var t=a.houses[a.view.house_name];switch(a.view.active_modal){case"edit_spice":return n.createElement(w,{house:t.name,spice:t.spice});case"view_cards":return n.createElement(j,{house:t.name,cards:t.cards});case"add_card":return n.createElement(x,{house:t.name});case"reset_game":return n.createElement(S,null);default:return null}},A=function(){var e=Object(l.c)((function(e){return{houses:e.houses}})),a=Object(l.b)(),t=[],c=!0,s=!1,r=void 0;try{for(var o,m=i[Symbol.iterator]();!(c=(o=m.next()).done);c=!0){var d=o.value,u=e.houses[d];void 0!==u&&t.push(n.createElement(g,{house:d,spice:u.spice,key:d,cards:u.cards}))}}catch(h){s=!0,r=h}finally{try{c||null==m.return||m.return()}finally{if(s)throw r}}return n.createElement(n.Fragment,null,n.createElement("section",{className:"section"},n.createElement("div",{className:"container"},n.createElement("div",{className:"columns is-multiline"},t))),n.createElement("section",{className:"section"},n.createElement("div",{className:"container"},n.createElement("div",{className:"buttons"},n.createElement("button",{className:"button is-secondary",onClick:function(){a(b())}},"Reset game")))),n.createElement(z,null))},B=t(8),I=t(16),F=function(e){var a="button";return e.checked&&(a+=" is-primary"),n.createElement("button",{className:a,onClick:e.onClick},n.createElement("div",null,o(e.house)))},R=function(){var e=n.useState({harkonen:!1,emperor:!1,guild:!1,bene:!1,fremen:!1}),a=Object(y.a)(e,2),t=a[0],c=a[1],s=!1,r=!0,o=!1,m=void 0;try{for(var u,h=i[Symbol.iterator]();!(r=(u=h.next()).done);r=!0){var v=u.value;if(t[v]){s=!0;break}}}catch(E){o=!0,m=E}finally{try{r||null==h.return||h.return()}finally{if(o)throw m}}var b=Object(l.b)();return n.createElement(n.Fragment,null,n.createElement("section",{className:"section"},n.createElement("div",{className:"container"},n.createElement("p",{className:"title is-1"},"New game"),n.createElement("p",{className:"subtitle is-5"},"Select which houses are present in the game"))),n.createElement("section",{className:"section"},n.createElement("div",{className:"container"},n.createElement("div",{className:"buttons is-centered"},i.map((function(e){return n.createElement(F,{house:e,checked:t[e],onClick:function(){var a=!t[e];c(Object(I.a)({},t,Object(B.a)({},e,a)))},key:e})}))))),n.createElement("section",{className:"section"},n.createElement("div",{className:"buttons is-centered"},n.createElement("button",{className:"button is-success",disabled:!s,onClick:function(){s&&(b(N(t)),b(d()))}},"Start game"))))},D=function(){return Object(l.c)((function(e){return e.game})).initialized?c.a.createElement(A,null):c.a.createElement(R,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=t(3),H={harkonen:10,atreides:10,fremen:3,bene:5,guild:5,emperor:10},J=Object(m.b)({},(function(e){function a(e,a){var t=a[e];if(void 0===t)throw new Error("House "+e+" not present in this game");return t}e.addCase(E,(function(e,t){a(t.payload.house,e).cards.push(t.payload.card)})),e.addCase(p,(function(e,t){a(t.payload.house,e).cards.splice(t.payload.index,1)})),e.addCase(f,(function(e,t){var n=a(t.payload.house,e);n.spice+=t.payload.spice,n.spice<0&&(n.spice=0)})),e.addCase(N,(function(e,a){var t=!0,n=!1,c=void 0;try{for(var s,r=i[Symbol.iterator]();!(t=(s=r.next()).done);t=!0){var l=s.value;if(a.payload[l]){var o={spice:H[l],cards:[{kind:"unknown"}],name:l};"harkonen"===l&&(o.cards.push({kind:"unknown"}),o.cards.push({kind:"unknown"})),e[l]=o}else e[l]=void 0}}catch(m){n=!0,c=m}finally{try{t||null==r.return||r.return()}finally{if(n)throw c}}}))})),T={active_modal:"none",house_name:void 0},W=Object(m.b)(T,(function(e){e.addCase(d,(function(e,a){e.active_modal="none",e.house_name=void 0})),e.addCase(u,(function(e,a){e.active_modal="edit_spice",e.house_name=a.payload})),e.addCase(v,(function(e,a){e.active_modal="add_card",e.house_name=a.payload})),e.addCase(h,(function(e,a){e.active_modal="view_cards",e.house_name=a.payload})),e.addCase(b,(function(e){e.active_modal="reset_game",e.house_name=void 0}))})),M=Object(m.b)({initialized:!1},(function(e){e.addCase(N,(function(e,a){e.initialized=!0})),e.addCase(k,(function(e,a){e.initialized=!1}))})),Y=Object(G.combineReducers)({houses:J,view:W,game:M}),$=t(17),q=t.n($),K=Object(G.compose)(q()(["houses","game"])),L={houses:{},view:{active_modal:"none",house_name:void 0},game:{initialized:!1}},P=Object(G.createStore)(Y,L,K);t(37);r.a.render(c.a.createElement(l.a,{store:P},c.a.createElement("section",{className:"hero is-primary"},c.a.createElement("div",{className:"hero-body"},c.a.createElement("div",{className:"container"},c.a.createElement("p",{className:"title is-1"},"Atreides mentat"),c.a.createElement("p",{className:"subtitle is-5"},"for Dune (2018)")))),c.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.586a3e74.chunk.js.map