(this.webpackJsonpatreides_mentat=this.webpackJsonpatreides_mentat||[]).push([[0],{18:function(e,a,t){e.exports=t(38)},38:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),s=t(6),r=t.n(s),i=t(1),o=["harkonen","guild","emperor","bene","fremen"];function l(e){switch(e){case"bene":return"Bene Geserit";case"harkonen":return"Harkonen";case"fremen":return"Fremen";case"guild":return"Spacing Guild";case"emperor":return"The Emperor";default:return function(){throw new Error("Missing case in switch")}()}}var d=t(2),m=Object(d.a)("view/none"),u=Object(d.a)("view/edit_spice"),h=Object(d.a)("view/view_cards"),f=Object(d.a)("view/add_card"),v=Object(d.a)("view/reset"),p=Object(d.a)("houses/add_card",(function(e,a){return{payload:{house:e,card:a}}})),b=Object(d.a)("houses/remove_card",(function(e,a){return{payload:{house:e,index:a}}})),E=Object(d.a)("houses/modify_spice",(function(e,a){if(!Number.isInteger(a))throw new Error("Spice value must be an integer");return{payload:{house:e,spice:a}}})),N=Object(d.a)("game/start"),k=Object(d.a)("game/reset"),w=t(9),g=function(e){var a=Object(i.b)(),t=n.useState(1),c=Object(w.a)(t,2),s=c[0],r=c[1],o=function(){a(m())};return n.createElement("div",{className:"modal is-active"},n.createElement("div",{className:"modal-background",onClick:o}),n.createElement("div",{className:"modal-card"},n.createElement("header",{className:"modal-card-head"},n.createElement("p",{className:"modal-card-title"},l(e.house)),n.createElement("button",{className:"delete",onClick:o})),n.createElement("section",{className:"modal-card-body"},n.createElement("div",{className:"level"},n.createElement("div",{className:"level-item has-text-centered"},n.createElement("div",null,n.createElement("p",{className:"heading"},"Spice"),n.createElement("p",{className:"title"},e.spice)))),n.createElement("div",{className:"field"},n.createElement("input",{className:"input",type:"number",value:s,onChange:function(e){r(parseInt(e.currentTarget.value))},step:1,min:1})),n.createElement("div",{className:"columns"},n.createElement("div",{className:"column is-half"},n.createElement("button",{className:"button is-success is-fullwidth",onClick:function(){a(E(e.house,s)),r(1)}},"Increase")),n.createElement("div",{className:"column is-half"},n.createElement("button",{className:"button is-danger is-fullwidth",onClick:function(){a(E(e.house,-s)),r(1)}},"Decrease")))),n.createElement("footer",{className:"modal-card-foot"},n.createElement("button",{className:"button is-secondary",onClick:o},"Back"))))},y=function(e){var a=Object(i.b)();return n.createElement("div",{className:"column is-half"},n.createElement("div",{className:"box"},n.createElement("h2",{className:"title is-3 has-text-centered"},l(e.house)),n.createElement("div",{className:"columns"},n.createElement("div",{className:"column is-half"},n.createElement("button",{className:"button is-warning is-fullwidth",onClick:function(){return a(u(e.house))}},e.spice," spice")),n.createElement("div",{className:"column is-half"},n.createElement("button",{className:"button is-info is-fullwidth",onClick:function(){return a(h(e.house))}},e.cards.length," card",1===e.cards.length?"":"s")))))},C={defence:{text:"white",bg:"link"},special:{text:"white",bg:"info"},useless:{text:"black",bg:"warning"},weapon:{text:"white",bg:"danger"},unknown:{text:"white",bg:"black"}},_=function(e){var a=C[e.card.kind],t="";return t="unknown"!==e.card.kind&&"useless"!==e.card.kind?e.card.type:e.card.kind,n.createElement("div",{className:"card has-text-centered"},n.createElement("header",{className:"card-header has-background-"+a.bg},n.createElement("p",{className:"card-header-title is-uppercase has-text-"+a.text},e.card.kind)),n.createElement("div",{className:"card-content"},n.createElement("p",{className:"subtitle is-5 is-capitalized"},t),e.children))},j=function(e){var a=Object(i.b)(),t=function(){return a(m())},c=e.cards.length<4;return"harkonen"===e.house&&(c=e.cards.length<8),n.createElement("div",{className:"modal is-active"},n.createElement("div",{className:"modal-background",onClick:t}),n.createElement("div",{className:"modal-card"},n.createElement("header",{className:"modal-card-head"},n.createElement("p",{className:"modal-card-title"},"Cards for ",l(e.house)),n.createElement("button",{className:"delete",onClick:t})),n.createElement("section",{className:"modal-card-body"},n.createElement("div",{className:"columns is-multiline"},e.cards.map((function(t,c){return n.createElement("div",{className:"column is-half"},n.createElement(_,{card:t},n.createElement("button",{className:"button is-danger",onClick:function(){a(b(e.house,c))}},"Remove")))})))),n.createElement("footer",{className:"modal-card-foot"},n.createElement("div",{className:"buttons"},n.createElement("button",{className:"button is-primary",onClick:function(){c&&a(f(e.house))},disabled:!c},"Add card"),n.createElement("button",{className:"button is-secondary",onClick:t},"Back")))))},O=[{kind:"weapon",type:"poison"},{kind:"weapon",type:"projectile"},{kind:"weapon",type:"lasgun"},{kind:"defence",type:"shield"},{kind:"defence",type:"snooper"},{kind:"special",type:"cheap hero"},{kind:"special",type:"karama"},{kind:"special",type:"family atomics"},{kind:"special",type:"hajr"},{kind:"special",type:"truthtrance"},{kind:"special",type:"tleilaxu ghola"},{kind:"special",type:"weather control"},{kind:"useless"},{kind:"unknown"}],x=function(e){var a=Object(i.b)();return n.createElement("div",{className:"modal is-active"},n.createElement("div",{className:"modal-background"}),n.createElement("div",{className:"modal-card"},n.createElement("header",{className:"modal-card-head"},n.createElement("p",{className:"modal-card-title"},"Add card to ",l(e.house)),n.createElement("button",{className:"delete",onClick:function(){return a(m())}})),n.createElement("section",{className:"modal-card-body"},n.createElement("div",{className:"columns is-multiline"},O.map((function(t){return n.createElement("div",{className:"column is-half",onClick:function(){a(p(e.house,t)),a(h(e.house))}},n.createElement(_,{card:t},n.createElement("button",{className:"button is-success"},"Add to hand")))}))))))},S=function(){var e=Object(i.b)(),a=function(){return e(m())};return n.createElement("div",{className:"modal is-active"},n.createElement("div",{className:"modal-background",onClick:a}),n.createElement("div",{className:"modal-card"},n.createElement("header",{className:"modal-card-head"},n.createElement("p",{className:"modal-card-title"},"Reset the game"),n.createElement("button",{className:"delete",onClick:a})),n.createElement("section",{className:"modal-card-body"},n.createElement("p",{className:"subtitle is-5"},"Are you sure?"),n.createElement("div",{className:"buttons"},n.createElement("button",{className:"button is-danger",onClick:function(){return e(k())}},"Yes"),n.createElement("button",{className:"button is-secondary",onClick:a},"No")))))},A=function(e){var a=Object(i.c)((function(e){return{houses:e.houses,view:e.view}}));if("none"===a.view.active_modal)return null;var t=a.houses[a.view.house_name];switch(a.view.active_modal){case"edit_spice":return n.createElement(g,{house:t.name,spice:t.spice});case"view_cards":return n.createElement(j,{house:t.name,cards:t.cards});case"add_card":return n.createElement(x,{house:t.name});case"reset_game":return n.createElement(S,null);default:return null}},W=function(){var e=Object(i.c)((function(e){return{houses:e.houses}})),a=Object(i.b)(),t=[],c=!0,s=!1,r=void 0;try{for(var l,d=o[Symbol.iterator]();!(c=(l=d.next()).done);c=!0){var m=l.value,u=e.houses[m];void 0!==u&&t.push(n.createElement(y,{house:m,spice:u.spice,key:m,cards:u.cards}))}}catch(h){s=!0,r=h}finally{try{c||null==d.return||d.return()}finally{if(s)throw r}}return n.createElement(n.Fragment,null,n.createElement("section",{className:"section"},n.createElement("div",{className:"container"},n.createElement("div",{className:"columns is-multiline"},t))),n.createElement("section",{className:"section"},n.createElement("div",{className:"container"},n.createElement("div",{className:"buttons"},n.createElement("button",{className:"button is-secondary",onClick:function(){a(v())}},"Reset game")))),n.createElement(A,null))},R=t(8),z=t(16),F=function(e){var a="button";return e.checked&&(a+=" is-primary"),n.createElement("button",{className:a,onClick:e.onClick},n.createElement("div",null,l(e.house)))},B=function(){var e=n.useState({harkonen:!1,emperor:!1,guild:!1,bene:!1,fremen:!1}),a=Object(w.a)(e,2),t=a[0],c=a[1],s=!1,r=!0,l=!1,d=void 0;try{for(var u,h=o[Symbol.iterator]();!(r=(u=h.next()).done);r=!0){var f=u.value;if(t[f]){s=!0;break}}}catch(p){l=!0,d=p}finally{try{r||null==h.return||h.return()}finally{if(l)throw d}}var v=Object(i.b)();return n.createElement(n.Fragment,null,n.createElement("section",{className:"section"},n.createElement("div",{className:"container"},n.createElement("p",{className:"title is-1"},"New game"),n.createElement("p",{className:"subtitle is-5"},"Select which houses are present in the game"))),n.createElement("section",{className:"section"},n.createElement("div",{className:"container"},n.createElement("div",{className:"buttons is-centered"},o.map((function(e){return n.createElement(F,{house:e,checked:t[e],onClick:function(){var a=!t[e];c(Object(z.a)({},t,Object(R.a)({},e,a)))},key:e})}))))),n.createElement("section",{className:"section"},n.createElement("div",{className:"buttons is-centered"},n.createElement("button",{className:"button is-success",disabled:!s,onClick:function(){s&&(v(N(t)),v(m()))}},"Start game"))))},I=function(){return Object(i.c)((function(e){return e.game})).initialized?c.a.createElement(W,null):c.a.createElement(B,null)},T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var D=t(3),G={harkonen:10,atreides:10,fremen:3,bene:5,guild:5,emperor:10},H=Object(d.b)({},(function(e){function a(e,a){var t=a[e];if(void 0===t)throw new Error("House "+e+" not present in this game");return t}e.addCase(p,(function(e,t){a(t.payload.house,e).cards.push(t.payload.card)})),e.addCase(b,(function(e,t){a(t.payload.house,e).cards.splice(t.payload.index,1)})),e.addCase(E,(function(e,t){var n=a(t.payload.house,e);n.spice+=t.payload.spice,n.spice<0&&(n.spice=0)})),e.addCase(N,(function(e,a){var t=!0,n=!1,c=void 0;try{for(var s,r=o[Symbol.iterator]();!(t=(s=r.next()).done);t=!0){var i=s.value;if(a.payload[i]){var l={spice:G[i],cards:[{kind:"unknown"}],name:i};"harkonen"===i&&(l.cards.push({kind:"unknown"}),l.cards.push({kind:"unknown"})),e[i]=l}else e[i]=void 0}}catch(d){n=!0,c=d}finally{try{t||null==r.return||r.return()}finally{if(n)throw c}}}))})),J={active_modal:"none",house_name:void 0},L=Object(d.b)(J,(function(e){e.addCase(m,(function(e,a){e.active_modal="none",e.house_name=void 0})),e.addCase(u,(function(e,a){e.active_modal="edit_spice",e.house_name=a.payload})),e.addCase(f,(function(e,a){e.active_modal="add_card",e.house_name=a.payload})),e.addCase(h,(function(e,a){e.active_modal="view_cards",e.house_name=a.payload})),e.addCase(v,(function(e){e.active_modal="reset_game",e.house_name=void 0}))})),P=Object(d.b)({initialized:!1},(function(e){e.addCase(N,(function(e,a){e.initialized=!0})),e.addCase(k,(function(e,a){e.initialized=!1}))})),M=Object(D.combineReducers)({houses:H,view:L,game:P}),Y=t(17),$=t.n(Y),q=Object(D.compose)($()(["houses","game"])),K={houses:{},view:{active_modal:"none",house_name:void 0},game:{initialized:!1}},Q=Object(D.createStore)(M,K,q);t(37);r.a.render(c.a.createElement(i.a,{store:Q},c.a.createElement("section",{className:"hero is-primary"},c.a.createElement("div",{className:"hero-body"},c.a.createElement("div",{className:"container"},c.a.createElement("p",{className:"title is-1"},"Atreides mentat"),c.a.createElement("p",{className:"subtitle is-5"},"for Dune (2018)")))),c.a.createElement(I,null),c.a.createElement("footer",{className:"footer"},"Icons made by"," ",c.a.createElement("a",{href:"https://www.flaticon.com/authors/freepik",title:"Freepik"},"Freepik")," ","from"," ",c.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com"))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/atreides_mentat",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("/atreides_mentat","/service-worker.js");T?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):U(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):U(a,e)}))}}()}},[[18,1,2]]]);
//# sourceMappingURL=main.958ba455.chunk.js.map