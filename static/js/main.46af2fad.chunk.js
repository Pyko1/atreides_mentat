(this.webpackJsonpatreides_mentat=this.webpackJsonpatreides_mentat||[]).push([[0],{17:function(e,t,n){e.exports=n(32)},32:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),i=n.n(o),c=n(1),u=["harkonen","guild","emperor","bene","fremen"];function l(e){switch(e){case"bene":return"Bene Geserit";case"harkonen":return"Harkonen";case"fremen":return"Fremen";case"guild":return"Spacing Guild";case"emperor":return"The Emperor";default:return function(){throw new Error("Missing case in switch")}()}}var s=n(2),d=Object(s.a)("view/new_game"),v=Object(s.a)("view/overview"),h=Object(s.a)("view/house_details"),p=Object(s.a)("view/edit_spice"),m=Object(s.a)("view/view_cards"),f=Object(s.a)("view/add_card"),w=Object(s.a)("houses/add_card",(function(e,t){return{payload:{house:e,card:t}}})),b=Object(s.a)("houses/remove_card",(function(e,t){return{payload:{house:e,index:t}}})),E=Object(s.a)("houses/modify_spice",(function(e,t){if(!Number.isInteger(t))throw new Error("Spice value must be an integer");return{payload:{house:e,spice:t}}})),y=Object(s.a)("houses/init"),_=function(e){var t=Object(c.b)();return a.createElement("div",null,a.createElement("h2",null,l(e.house)),a.createElement("div",null,a.createElement("span",null,"Spice"),a.createElement("br",null),a.createElement("span",null,e.spice)),a.createElement("input",{type:"button",value:"Edit",onClick:function(){return t(p(e.house))}}),a.createElement("input",{type:"button",value:"View Cards",onClick:function(){return t(m(e.house))}}))},k=function(){var e=Object(c.c)((function(e){return{houses:e.houses}})),t=Object(c.b)(),n=[],r=!0,o=!1,i=void 0;try{for(var l,s=u[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var v=l.value,h=e.houses[v];void 0!==h&&n.push(a.createElement(_,{house:v,spice:h.spice,key:v}))}}catch(p){o=!0,i=p}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return a.createElement("div",null,n,a.createElement("input",{type:"button",value:"Reset game",onClick:function(){t(d())}}))},g=n(10),j=n(7),O=n(6),C=function(){var e=a.useState({harkonen:!1,emperor:!1,guild:!1,bene:!1,fremen:!1}),t=Object(O.a)(e,2),n=t[0],r=t[1],o=!1,i=!0,s=!1,d=void 0;try{for(var h,p=u[Symbol.iterator]();!(i=(h=p.next()).done);i=!0){var m=h.value;if(n[m]){o=!0;break}}}catch(w){s=!0,d=w}finally{try{i||null==p.return||p.return()}finally{if(s)throw d}}var f=Object(c.b)();return a.createElement("div",null,a.createElement("h1",null,"New game"),a.createElement("p",null,"Select houses in the game"),u.map((function(e){return a.createElement("div",{key:e},a.createElement("label",null,l(e),a.createElement("input",{type:"checkbox",checked:n[e],onChange:function(){var t=!n[e];r(Object(j.a)({},n,Object(g.a)({},e,t)))}})),a.createElement("div",null))})),a.createElement("input",{type:"button",value:"Start game",disabled:!o,onClick:function(){o&&(f(y(n)),f(v()))}}))},S=function(e){var t=Object(c.b)(),n=a.useState(1),r=Object(O.a)(n,2),o=r[0],i=r[1];return a.createElement("div",null,a.createElement("h2",null,l(e.house)),a.createElement("div",null,a.createElement("span",null,"Current Spice"),a.createElement("span",null,e.spice),a.createElement("input",{type:"number",value:o,onChange:function(e){i(parseInt(e.currentTarget.value))},step:1,min:1}),a.createElement("input",{type:"button",value:"add",onClick:function(){t(E(e.house,o)),i(1)}}),a.createElement("input",{type:"button",value:"remove",onClick:function(){t(E(e.house,-o)),i(1)}})),a.createElement("input",{type:"button",value:"close",onClick:function(){return t(v())}}))},x=function(e){var t="";switch(e.kind){case"weapon":case"defence":t=e.type}return a.createElement("div",null,a.createElement("h3",null,e.kind),a.createElement("h4",null,t))},B=function(e){var t=Object(c.b)();return a.createElement("div",null,e.cards.map((function(e){return a.createElement(x,e)})),a.createElement("input",{type:"button",value:"Add card",onClick:function(){return t(f(e.house))}}),a.createElement("input",{type:"button",value:"Back",onClick:function(){return t(v())}}))},M=function(e){var t=Object(c.b)(),n=a.useState({kind:"weapon",type:"projectile"}),r=Object(O.a)(n,2),o=r[0],i=r[1],u=void 0;switch(o.kind){case"weapon":u=a.createElement("select",{onChange:function(e){i(Object(j.a)({},o,{type:e.target.value}))}},a.createElement("option",{value:"projectile"},"Projectile"),a.createElement("option",{value:"poison"},"Poison"),a.createElement("option",{value:"lasgun"},"Lasgun"));break;case"defence":u=a.createElement("select",{onChange:function(e){i(Object(j.a)({},o,{type:e.target.value}))}},a.createElement("option",{value:"shield"},"Shield"),a.createElement("option",{value:"snooper"},"Snooper"))}return a.createElement("div",null,a.createElement("select",{onChange:function(e){switch(e.target.value){case"weapon":i({kind:"weapon",type:"projectile"});break;case"defence":i({kind:"defence",type:"shield"});break;case"useless":i({kind:"useless"});break;default:throw new Error("Unhandled card type")}},value:o.kind},a.createElement("option",{value:"weapon"},"Weapon"),a.createElement("option",{value:"defence"},"Defensive"),a.createElement("option",{value:"useless"},"Useless")),u,a.createElement("input",{type:"button",value:"Add card",onClick:function(){t(w(e.house,o)),t(m(e.house))}}),a.createElement("input",{type:"button",value:"Back",onClick:function(){return t(m(e.house))}}))},I=function(){var e=Object(c.c)((function(e){var t=void 0;if(void 0!==e.view.house_name){var n=e.houses[e.view.house_name];t={name:e.view.house_name,spice:n.spice,cards:n.cards}}return{house:t,active_view:e.view.active_view}}));switch(e.active_view){case"new_game":return r.a.createElement(C,null);case"overview":return r.a.createElement(k,null);case"house_details":if(void 0!==e.house)return r.a.createElement(_,{spice:e.house.spice,house:e.house.name});throw new Error("Missing view.house");case"edit_spice":if(void 0===e.house)throw new Error("Missing view.house");return r.a.createElement(S,{spice:e.house.spice,house:e.house.name});case"view_cards":if(void 0===e.house)throw new Error("Missing view.house");return r.a.createElement(B,{house:e.house.name,cards:e.house.cards});case"add_card":if(void 0===e.house)throw new Error("Missing view.house");return r.a.createElement(M,{house:e.house.name});default:throw new Error("Unhandled active_view state")}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=n(3),W=Object(s.b)({},(function(e){function t(e,t){var n=t[e];if(void 0===n)throw new Error("House "+e+" not present in this game");return n}e.addCase(w,(function(e,n){t(n.payload.house,e).cards.push(n.payload.card)})),e.addCase(b,(function(e,n){t(n.payload.house,e).cards.splice(n.payload.index,1)})),e.addCase(E,(function(e,n){var a=t(n.payload.house,e);a.spice+=n.payload.spice,a.spice<0&&(a.spice=0)})),e.addCase(y,(function(e,t){var n=!0,a=!1,r=void 0;try{for(var o,i=u[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value;t.payload[c]?e[c]={spice:0,cards:[],name:c}:e[c]=void 0}}catch(l){a=!0,r=l}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}}))})),A={active_view:"new_game",house_name:void 0},G=Object(s.b)(A,(function(e){e.addCase(d,(function(e,t){e.active_view="new_game",e.house_name=void 0})),e.addCase(v,(function(e,t){e.active_view="overview",e.house_name=void 0})),e.addCase(h,(function(e,t){e.active_view="house_details",e.house_name=t.payload})),e.addCase(p,(function(e,t){e.active_view="edit_spice",e.house_name=t.payload})),e.addCase(f,(function(e,t){e.active_view="add_card",e.house_name=t.payload})),e.addCase(m,(function(e,t){e.active_view="view_cards",e.house_name=t.payload}))})),H=Object(U.combineReducers)({houses:W,view:G}),J=Object(U.createStore)(H);i.a.render(r.a.createElement(c.a,{store:J},r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.46af2fad.chunk.js.map