{"version":3,"sources":["ts/houses.ts","ts/state/actions.ts","ts/components/Modals/EditSpiceModal.tsx","ts/components/HouseTile.tsx","ts/components/TreacheryCard.tsx","ts/components/Modals/ViewCardsModal.tsx","ts/components/Modals/AddCardModal.tsx","ts/components/Modals/ConfirmResetModal.tsx","ts/components/GameOverview.tsx","ts/components/NewGame.tsx","ts/components/GameContainer.tsx","serviceWorker.ts","ts/state/reducers.ts","ts/state/store.ts","index.tsx"],"names":["ALL_HOUSE_NAMES","house_name_str","name","Error","assert_never","close_modal","createAction","show_edit_spice_modal","show_view_cards_modal","show_add_cards_modal","show_reset_game_modal","house_add_card","house","card","payload","house_remove_card","index","house_modify_spice","spice","Number","isInteger","house_toggle_karama","start_game","reset_game","EditSpice","props","dispatch","useDispatch","React","spiceChange","setSpiceChange","close","className","onClick","type","value","onChange","ev","parseInt","currentTarget","step","min","HouseTile","cards","length","karama_used","treachery_card_colours","DEFENSE","text","bg","SPECIAL","USELESS","WEAPON","UNKNOWN","TreacheryCard","colour","kind","subtitle","onDelete","ViewCards","allow_add_card","map","disabled","available_cards","AddCardModal","style","cursor","ConfirmResetModal","Modal","state","useSelector","root_state","houses","view","active_modal","house_name","EditSpiceModal","ViewCardsModal","GameOverview","housesArray","houseState","undefined","push","key","HouseSelect","checked","harkonen","emperor","guild","bene","fremen","setState","allow_start","i","new_checked","GameContainer","game","initialized","NewGame","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","houses_initial_spice","atreides","house_state_reducer","createReducer","builder","getHouse","addCase","action","splice","initial_house_state","default_view_state","view_state_reducer","closeModal","_","game_state_reducer","root_reducer","combineReducers","enhancer","compose","persistState","initial_state","state_store","createStore","ReactDOM","render","store","href","title","document","getElementById","URL","process","origin","addEventListener","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.ce939e5c.chunk.js","sourcesContent":["export const ALL_HOUSE_NAMES = [\"harkonen\", \"guild\", \"emperor\", \"bene\", \"fremen\"] as const;\nexport type house_name_type = typeof ALL_HOUSE_NAMES;\nexport type house_name_t = house_name_type[number];\n\nfunction assert_never(): never {\n    throw new Error(\"Missing case in switch\");\n}\n\nexport function house_name_str(name: house_name_t) {\n    switch (name) {\n        case \"bene\": return \"Bene Geserit\";\n        case \"harkonen\": return \"Harkonen\";\n        case \"fremen\": return \"Fremen\"\n        case \"guild\": return \"Spacing Guild\";\n        case \"emperor\": return \"The Emperor\"\n        default: return assert_never();\n    }\n}","import { createAction } from \"@reduxjs/toolkit\";\nimport { house_name_t } from \"ts/houses\";\nimport { treachery_card_t } from \"ts/treachery_card\";\nimport { start_game_spec } from \"ts/state/types\";\n\nexport const close_modal = createAction(\"view/none\");\nexport const show_edit_spice_modal = createAction<house_name_t>(\"view/edit_spice\");\nexport const show_view_cards_modal = createAction<house_name_t>(\"view/view_cards\");\nexport const show_add_cards_modal = createAction<house_name_t>(\"view/add_card\");\nexport const show_reset_game_modal = createAction(\"view/reset\");\n\nexport const house_add_card = createAction(\n  \"houses/add_card\",\n  (house: house_name_t, card: treachery_card_t) => {\n    return {\n      payload: {\n        house,\n        card,\n      },\n    };\n  }\n);\n\nexport const house_remove_card = createAction(\n  \"houses/remove_card\",\n  (house: house_name_t, index: number) => {\n    return {\n      payload: {\n        house,\n        index,\n      },\n    };\n  }\n);\n\nexport const house_modify_spice = createAction(\n  \"houses/modify_spice\",\n  (house: house_name_t, spice: number) => {\n    if (!Number.isInteger(spice)) {\n      throw new Error(\"Spice value must be an integer\");\n    }\n    return {\n      payload: {\n        house,\n        spice,\n      },\n    };\n  }\n);\n\nexport const house_toggle_karama = createAction<house_name_t>(\"houses/toggle_karama\");\n\nexport const start_game = createAction<start_game_spec>(\"game/start\");\nexport const reset_game = createAction(\"game/reset\");\n","import * as React from \"react\";\n\nimport { useDispatch } from \"react-redux\";\nimport { house_name_t, house_name_str } from \"ts/houses\";\nimport { house_modify_spice, close_modal } from \"ts/state/actions\";\n\ninterface Props {\n  spice: number;\n  house: house_name_t;\n}\n\nconst EditSpice: React.FC<Props> = props => {\n  const dispatch = useDispatch();\n  const [spiceChange, setSpiceChange] = React.useState(1);\n  const close = () => {\n    dispatch(close_modal());\n  };\n\n  return (\n    <div className=\"modal is-active\">\n      <div className=\"modal-background\" onClick={close}></div>\n      <div className=\"modal-card\">\n        <header className=\"modal-card-head\">\n          <p className=\"modal-card-title\">{house_name_str(props.house)}</p>\n          <button className=\"delete\" onClick={close}></button>\n        </header>\n        <section className=\"modal-card-body\">\n          <div className=\"level\">\n            <div className=\"level-item has-text-centered\">\n              <div>\n                <p className=\"heading\">Spice</p>\n                <p className=\"title\">{props.spice}</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"field\">\n            <input\n              className=\"input\"\n              type=\"number\"\n              value={spiceChange}\n              onChange={ev => {\n                setSpiceChange(parseInt(ev.currentTarget.value));\n              }}\n              step={1}\n              min={1}\n            />\n          </div>\n          <div className=\"columns\">\n            <div className=\"column is-half\">\n              <button\n                className=\"button is-success is-fullwidth\"\n                onClick={() => {\n                  dispatch(house_modify_spice(props.house, spiceChange));\n                  setSpiceChange(1);\n                }}\n              >\n                Increase\n              </button>\n            </div>\n            <div className=\"column is-half\">\n              <button\n                className=\"button is-danger is-fullwidth\"\n                onClick={() => {\n                  dispatch(house_modify_spice(props.house, -spiceChange));\n                  setSpiceChange(1);\n                }}\n              >\n                Decrease\n              </button>\n            </div>\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport default EditSpice;\n","import * as React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { house_name_t, house_name_str } from \"ts/houses\";\nimport {\n  show_edit_spice_modal,\n  show_view_cards_modal,\n  house_toggle_karama,\n} from \"ts/state/actions\";\nimport { treachery_card_t } from \"ts/treachery_card\";\n\nexport interface HouseTileProps {\n  spice: number;\n  house: house_name_t;\n  cards: ReadonlyArray<treachery_card_t>;\n  karama_used: boolean;\n}\n\nconst HouseTile: React.FC<HouseTileProps> = props => {\n  const dispatch = useDispatch();\n  return (\n    <div className=\"column is-half\">\n      <div className=\"box\">\n        <h2 className=\"title is-3 has-text-centered\">{house_name_str(props.house)}</h2>\n        <div className=\"columns is-multiline\">\n          <div className=\"column is-half\">\n            <button\n              className=\"button is-warning is-fullwidth\"\n              onClick={() => dispatch(show_edit_spice_modal(props.house))}\n            >\n              {props.spice} spice\n            </button>\n          </div>\n          <div className=\"column is-half\">\n            <button\n              className=\"button is-info is-fullwidth\"\n              onClick={() => dispatch(show_view_cards_modal(props.house))}\n            >\n              {props.cards.length} card{props.cards.length === 1 ? \"\" : \"s\"}\n            </button>\n          </div>\n          <div className=\"column is-half\">\n            <button\n              className={\n                \"button is-success is-fullwidth\" + (props.karama_used ? \" is-inverted\" : \"\")\n              }\n              onClick={() => dispatch(house_toggle_karama(props.house))}\n            >\n              Karama {props.karama_used ? \"used\" : \"available\"}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default HouseTile;\n","import * as React from \"react\";\nimport { treachery_card_t, treachery_card_kind } from \"ts/treachery_card\";\n\nconst treachery_card_colours: { [key in treachery_card_kind]: { text: string; bg: string } } = {\n  DEFENSE: { text: \"white\", bg: \"link\" },\n  SPECIAL: { text: \"white\", bg: \"info\" },\n  USELESS: { text: \"black\", bg: \"warning\" },\n  WEAPON: { text: \"white\", bg: \"danger\" },\n  UNKNOWN: { text: \"white\", bg: \"black\" },\n};\n\nconst TreacheryCard: React.FC<{ card: treachery_card_t; onDelete?: () => void }> = props => {\n  const colour = treachery_card_colours[props.card.kind];\n  let subtitle = \"\";\n  switch (props.card.kind) {\n    case \"UNKNOWN\": {\n      subtitle = \"???\";\n      break;\n    }\n    case \"USELESS\": {\n      subtitle = \"This card has no effect\";\n      break;\n    }\n    default: {\n      subtitle = props.card.type;\n      break;\n    }\n  }\n  return (\n    <div className=\"message has-text-centered\">\n      <header className={\"message-header has-background-\" + colour.bg}>\n        <p className={\"card-header-title has-text-\" + colour.text}>{props.card.kind}</p>\n        {props.onDelete ? <button className=\"delete\" onClick={props.onDelete}></button> : null}\n      </header>\n      <div className=\"message-body\">\n        <p>{subtitle}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default TreacheryCard;\n","import * as React from \"react\";\nimport { house_name_t, house_name_str } from \"ts/houses\";\nimport { treachery_card_t } from \"ts/treachery_card\";\nimport { useDispatch } from \"react-redux\";\nimport { show_add_cards_modal, close_modal, house_remove_card } from \"ts/state/actions\";\nimport TreacheryCard from \"ts/components/TreacheryCard\";\n\nconst ViewCards: React.FC<{\n  house: house_name_t;\n  cards: ReadonlyArray<treachery_card_t>;\n}> = props => {\n  const dispatch = useDispatch();\n  const close = () => dispatch(close_modal());\n  let allow_add_card = props.cards.length < 4;\n  if (props.house === \"harkonen\") {\n    allow_add_card = props.cards.length < 8;\n  }\n\n  return (\n    <div className=\"modal is-active\">\n      <div className=\"modal-background\" onClick={close}></div>\n      <div className=\"modal-card\">\n        <header className=\"modal-card-head\">\n          <p className=\"modal-card-title\">Cards for {house_name_str(props.house)}</p>\n          <button className=\"delete\" onClick={close}></button>\n        </header>\n        <section className=\"modal-card-body\">\n          <div className=\"columns is-multiline\">\n            {props.cards.map((card, index) => (\n              <div className=\"column is-half\">\n                <TreacheryCard\n                  card={card}\n                  onDelete={() => dispatch(house_remove_card(props.house, index))}\n                />\n              </div>\n            ))}\n          </div>\n        </section>\n        <footer className=\"modal-card-foot\">\n          <button\n            className=\"button is-primary is-fullwidth\"\n            onClick={() => {\n              if (allow_add_card) {\n                dispatch(show_add_cards_modal(props.house));\n              }\n            }}\n            disabled={!allow_add_card}\n          >\n            Add card\n          </button>\n        </footer>\n      </div>\n    </div>\n  );\n};\n\nexport default ViewCards;\n","import * as React from \"react\";\nimport { house_name_t, house_name_str } from \"ts/houses\";\nimport { treachery_card_t } from \"ts/treachery_card\";\nimport TreacheryCard from \"ts/components/TreacheryCard\";\nimport { useDispatch } from \"react-redux\";\nimport { close_modal, house_add_card, show_view_cards_modal } from \"ts/state/actions\";\n\nconst available_cards: ReadonlyArray<treachery_card_t> = [\n  {\n    kind: \"WEAPON\",\n    type: \"Poison\",\n  },\n  {\n    kind: \"WEAPON\",\n    type: \"Projectile\",\n  },\n  {\n    kind: \"WEAPON\",\n    type: \"Lasgun\",\n  },\n\n  {\n    kind: \"DEFENSE\",\n    type: \"Shield\",\n  },\n  {\n    kind: \"DEFENSE\",\n    type: \"Snooper\",\n  },\n\n  {\n    kind: \"SPECIAL\",\n    type: \"Cheap Hero\",\n  },\n  {\n    kind: \"SPECIAL\",\n    type: \"Karama\",\n  },\n\n  {\n    kind: \"SPECIAL\",\n    type: \"Family Atomics\",\n  },\n  {\n    kind: \"SPECIAL\",\n    type: \"Hajr\",\n  },\n  {\n    kind: \"SPECIAL\",\n    type: \"Truthtrance\",\n  },\n  {\n    kind: \"SPECIAL\",\n    type: \"Tleilaxu Ghola\",\n  },\n  {\n    kind: \"SPECIAL\",\n    type: \"Weather Control\",\n  },\n\n  {\n    kind: \"USELESS\",\n  },\n\n  {\n    kind: \"UNKNOWN\",\n  },\n];\n\nconst AddCardModal: React.FC<{ house: house_name_t }> = props => {\n  const dispatch = useDispatch();\n  const close = () => dispatch(show_view_cards_modal(props.house));\n  return (\n    <div className=\"modal is-active\">\n      <div className=\"modal-background\" onClick={close}></div>\n      <div className=\"modal-card\">\n        <header className=\"modal-card-head\">\n          <p className=\"modal-card-title\">Add card to {house_name_str(props.house)}</p>\n          <button className=\"delete\" onClick={close}></button>\n        </header>\n        <section className=\"modal-card-body\">\n          <div className=\"columns is-multiline\">\n            {available_cards.map(card => (\n              <div\n                className=\"column is-half\"\n                onClick={() => {\n                  dispatch(house_add_card(props.house, card));\n                  dispatch(show_view_cards_modal(props.house));\n                }}\n                style={{ cursor: \"pointer\" }}\n              >\n                <TreacheryCard card={card}>\n                  <button className=\"button is-success\">Add to hand</button>\n                </TreacheryCard>\n              </div>\n            ))}\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport default AddCardModal;\n","import * as React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { close_modal, reset_game } from \"ts/state/actions\";\n\nconst ConfirmResetModal: React.FC = () => {\n  const dispatch = useDispatch();\n  const close = () => dispatch(close_modal());\n\n  return (\n    <div className=\"modal is-active\">\n      <div className=\"modal-background\" onClick={close}></div>\n      <div className=\"modal-card\">\n        <header className=\"modal-card-head\">\n          <p className=\"modal-card-title\">Reset the game</p>\n          <button className=\"delete\" onClick={close}></button>\n        </header>\n        <section className=\"modal-card-body\">\n          <p className=\"subtitle is-5\">Are you sure?</p>\n          <div className=\"buttons\">\n            <button className=\"button is-danger\" onClick={() => dispatch(reset_game())}>\n              Yes\n            </button>\n            <button className=\"button is-secondary\" onClick={close}>\n              No\n            </button>\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport default ConfirmResetModal;\n","import * as React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { root_state } from \"ts/state/reducers\";\nimport { ALL_HOUSE_NAMES, house_name_t } from \"ts/houses\";\nimport { show_reset_game_modal } from \"ts/state/actions\";\nimport { house_state_t } from \"ts/state/types\";\nimport EditSpiceModal from \"ts/components/Modals/EditSpiceModal\";\nimport HouseTile from \"ts/components/HouseTile\";\nimport ViewCardsModal from \"ts/components/Modals/ViewCardsModal\";\nimport AddCardModal from \"ts/components/Modals/AddCardModal\";\nimport ConfirmResetModal from \"ts/components/Modals/ConfirmResetModal\";\n\nconst Modal: React.FC = props => {\n  const state = useSelector((root_state: root_state) => ({\n    houses: root_state.houses,\n    view: root_state.view,\n  }));\n\n  if (state.view.active_modal === \"none\") {\n    return null;\n  }\n\n  const house = state.houses[state.view.house_name as house_name_t] as house_state_t;\n  switch (state.view.active_modal) {\n    case \"edit_spice\": {\n      return <EditSpiceModal house={house.name} spice={house.spice} />;\n    }\n    case \"view_cards\": {\n      return <ViewCardsModal house={house.name} cards={house.cards} />;\n    }\n    case \"add_card\": {\n      return <AddCardModal house={house.name} />;\n    }\n    case \"reset_game\": {\n      return <ConfirmResetModal />;\n    }\n    default:\n      return null;\n  }\n};\n\nconst GameOverview: React.FC = () => {\n  const state = useSelector((state: root_state) => ({\n    houses: state.houses,\n  }));\n  const dispatch = useDispatch();\n  const housesArray: JSX.Element[] = [];\n  for (let name of ALL_HOUSE_NAMES) {\n    const houseState = state.houses[name];\n    if (houseState !== undefined) {\n      housesArray.push(\n        <HouseTile\n          house={name}\n          spice={houseState.spice}\n          key={name}\n          cards={houseState.cards}\n          karama_used={houseState.karama_used}\n        />\n      );\n    }\n  }\n  return (\n    <>\n      <section className=\"section\">\n        <div className=\"container\">\n          <div className=\"columns is-multiline\">{housesArray}</div>\n        </div>\n      </section>\n      <section className=\"section\">\n        <div className=\"container\">\n          <div className=\"buttons\">\n            <button\n              className=\"button is-secondary\"\n              onClick={() => {\n                dispatch(show_reset_game_modal());\n              }}\n            >\n              Reset game\n            </button>\n          </div>\n        </div>\n      </section>\n      <Modal></Modal>\n    </>\n  );\n};\n\nexport default GameOverview;\n","import * as React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { ALL_HOUSE_NAMES, house_name_str, house_name_t } from \"ts/houses\";\nimport { close_modal, start_game } from \"ts/state/actions\";\nimport { start_game_spec } from \"ts/state/types\";\n\nconst HouseSelect: React.FC<{\n  house: house_name_t;\n  checked: boolean;\n  onClick: () => void;\n}> = props => {\n  let className = \"button\";\n  if (props.checked) {\n    className += \" is-primary\";\n  }\n  return (\n    <button className={className} onClick={props.onClick}>\n      <div>{house_name_str(props.house)}</div>\n    </button>\n  );\n};\n\nexport default () => {\n  const [state, setState] = React.useState<start_game_spec>({\n    harkonen: false,\n    emperor: false,\n    guild: false,\n    bene: false,\n    fremen: false,\n  });\n\n  let allow_start = false;\n  for (let i of ALL_HOUSE_NAMES) {\n    if (state[i]) {\n      allow_start = true;\n      break;\n    }\n  }\n  const dispatch = useDispatch();\n  return (\n    <>\n      <section className=\"section\">\n        <div className=\"container\">\n          <p className=\"title is-1\">New game</p>\n          <p className=\"subtitle is-5\">Select which houses are present in the game</p>\n        </div>\n      </section>\n      <section className=\"section\">\n        <div className=\"container\">\n          <div className=\"buttons is-centered\">\n            {ALL_HOUSE_NAMES.map(name => (\n              <HouseSelect\n                house={name}\n                checked={state[name]}\n                onClick={() => {\n                  const new_checked = !state[name];\n                  setState({ ...state, [name]: new_checked });\n                }}\n                key={name}\n              />\n            ))}\n          </div>\n        </div>\n      </section>\n      <section className=\"section\">\n        <div className=\"buttons is-centered\">\n          <button\n            className=\"button is-success\"\n            disabled={!allow_start}\n            onClick={() => {\n              if (allow_start) {\n                dispatch(start_game(state));\n                dispatch(close_modal());\n              }\n            }}\n          >\n            Start game\n          </button>\n        </div>\n      </section>\n    </>\n  );\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport GameOverview from \"ts/components/GameOverview\";\nimport NewGame from \"ts/components/NewGame\";\nimport { root_state } from \"ts/state/reducers\";\n\nconst GameContainer: React.FC = () => {\n  const state = useSelector((state: root_state) => {\n    return state.game;\n  });\n\n  if (!state.initialized) {\n    return <NewGame />;\n  } else {\n    return <GameOverview />;\n  }\n};\n\nexport default GameContainer;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { createReducer, combineReducers } from \"@reduxjs/toolkit\";\nimport {\n  house_add_card,\n  house_remove_card,\n  house_modify_spice,\n  close_modal as closeModal,\n  show_edit_spice_modal,\n  show_add_cards_modal,\n  start_game,\n  show_view_cards_modal,\n  reset_game,\n  show_reset_game_modal,\n  house_toggle_karama,\n} from \"ts/state/actions\";\nimport { ALL_HOUSE_NAMES, house_name_t } from \"ts/houses\";\nimport { houses_state_t, view_state_t, game_state_t, house_state_t } from \"ts/state/types\";\n\nconst houses_initial_spice = {\n  harkonen: 10,\n  atreides: 10,\n  fremen: 3,\n  bene: 5,\n  guild: 5,\n  emperor: 10,\n} as const;\n\nexport const house_state_reducer = createReducer({} as houses_state_t, builder => {\n  function getHouse(name: house_name_t, state: houses_state_t) {\n    const house = state[name];\n    if (house === undefined) {\n      throw new Error(\"House \" + name + \" not present in this game\");\n    }\n    return house;\n  }\n\n  builder.addCase(house_add_card, (state, action) => {\n    let house = getHouse(action.payload.house, state);\n    house.cards.push(action.payload.card);\n  });\n\n  builder.addCase(house_remove_card, (state, action) => {\n    let house = getHouse(action.payload.house, state);\n    house.cards.splice(action.payload.index, 1);\n  });\n\n  builder.addCase(house_modify_spice, (state, action) => {\n    let house = getHouse(action.payload.house, state);\n    house.spice += action.payload.spice;\n    if (house.spice < 0) {\n      house.spice = 0;\n    }\n  });\n\n  builder.addCase(start_game, (state, action) => {\n    for (let house of ALL_HOUSE_NAMES) {\n      if (action.payload[house]) {\n        const initial_house_state: house_state_t = {\n          spice: houses_initial_spice[house],\n          cards: [{ kind: \"UNKNOWN\" }],\n          name: house,\n          karama_used: false,\n        };\n        if (house === \"harkonen\") {\n          initial_house_state.cards.push({ kind: \"UNKNOWN\" });\n          initial_house_state.cards.push({ kind: \"UNKNOWN\" });\n        }\n        state[house] = initial_house_state;\n      } else {\n        state[house] = undefined;\n      }\n    }\n  });\n\n  builder.addCase(house_toggle_karama, (state, action) => {\n    let house = getHouse(action.payload, state);\n    house.karama_used = !house.karama_used;\n  });\n});\n\nconst default_view_state: view_state_t = {\n  active_modal: \"none\",\n  house_name: undefined,\n};\n\nexport const view_state_reducer = createReducer(default_view_state, builder => {\n  builder.addCase(closeModal, (state, _) => {\n    state.active_modal = \"none\";\n    state.house_name = undefined;\n  });\n\n  builder.addCase(show_edit_spice_modal, (state, action) => {\n    state.active_modal = \"edit_spice\";\n    state.house_name = action.payload;\n  });\n\n  builder.addCase(show_add_cards_modal, (state, action) => {\n    state.active_modal = \"add_card\";\n    state.house_name = action.payload;\n  });\n\n  builder.addCase(show_view_cards_modal, (state, action) => {\n    state.active_modal = \"view_cards\";\n    state.house_name = action.payload;\n  });\n\n  builder.addCase(show_reset_game_modal, state => {\n    state.active_modal = \"reset_game\";\n    state.house_name = undefined;\n  });\n});\n\nconst default_game_state: game_state_t = {\n  initialized: false,\n};\n\nexport const game_state_reducer = createReducer(default_game_state, builder => {\n  builder.addCase(start_game, (state, action) => {\n    state.initialized = true;\n  });\n  builder.addCase(reset_game, (state, action) => {\n    state.initialized = false;\n  });\n});\n\nexport const root_reducer = combineReducers({\n  houses: house_state_reducer,\n  view: view_state_reducer,\n  game: game_state_reducer,\n});\n\nexport type root_state = ReturnType<typeof root_reducer>;\n","import { createStore, compose } from \"@reduxjs/toolkit\";\nimport { root_reducer, root_state } from \"./reducers\";\nimport persistState from \"redux-localstorage\";\n\nconst enhancer = compose(persistState([\"houses\", \"game\"] as any));\n\nconst initial_state: root_state = {\n  houses: {},\n  view: {\n    active_modal: \"none\",\n    house_name: undefined,\n  },\n  game: { initialized: false },\n};\n\nexport const state_store = createStore(root_reducer, initial_state, enhancer as any);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport GameContainer from \"ts/components/GameContainer\";\nimport { Provider } from \"react-redux\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { state_store } from \"ts/state/store\";\nimport \"bulma/css/bulma.css\";\n\nReactDOM.render(\n  <Provider store={state_store}>\n    <section className=\"hero is-primary\">\n      <div className=\"hero-body\">\n        <div className=\"container\">\n          <p className=\"title is-1\">Atreides mentat</p>\n          <p className=\"subtitle is-5\">for Dune (2018)</p>\n        </div>\n      </div>\n    </section>\n    <GameContainer />\n    <footer className=\"footer\">\n      Icons made by{\" \"}\n      <a href=\"https://www.flaticon.com/authors/freepik\" title=\"Freepik\">\n        Freepik\n      </a>{\" \"}\n      from{\" \"}\n      <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">\n        www.flaticon.com\n      </a>\n    </footer>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}